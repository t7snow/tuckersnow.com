---
import { getCollection } from 'astro:content';
import BlogCard from './BlogCard.astro';

// Fetch and sort blog posts
const blogposts = await getCollection('blogposts');
const recentPosts = blogposts
  .slice(0, 3); // Display only the 3 most recent posts
---
<section>
  <div class="flex justify-between items-center mb-6">
    <h3 class="text-2xl">üìù Recent Posts</h2>
    <div class="flex gap-2">
      <a href="/blog" class="bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded text-sm flex items-center">View all ‚Üí</a>
    </div>
    
  </div>

    {recentPosts.map((post) => (
      <BlogCard post={post} />
    ))}
    
</section>